<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件委托</title>
    <script>
        //事件委托：利用冒泡的原理，将事件添加到父级上，触发执行效果
        //好处：1.提高性能  2.新添加的元素还会有之前的事件
        //知识点    ie:window.event.srcElement   标准下：event.target
        //处理兼容   var ev = event || window.event;   var target = ev.target || ev.srcElement;   要点：target.nodeName.toLocaleLowerCase()
        window.onload = function () {
            var oUl = document.getElementById('ul1');
            var oLi = oUl.getElementsByTagName('li');
            var oBtn = document.getElementById('btn1');
            var iNow = 4;

            oUl.onmouseover = function (event) {
                var ev = event || window.event;
                var target = ev.target || ev.srcElement;
                //console.log(target.nodeName)
                if(target.nodeName.toLocaleLowerCase() == 'li' ){
                    target.style.background="red";
                }
            }

            oUl.onmouseout = function (event) {
                var ev = event || window.event;
                var target = ev.target || ev.srcElement;
                //console.log(target.nodeName)
                if(target.nodeName.toLocaleLowerCase() == 'li' ){
                    target.style.background="";
                }
            }

            oBtn.onclick = function () {
                var cLi = document.createElement('li');
                iNow++;
                cLi.innerHTML = iNow * 1111;
                oUl.insertBefore(cLi,oLi[0]);
            }

        }
    </script>
</head>
<body>
<input type="button" id="btn1" value="添加">
    <ul id="ul1">
        <li>1111</li>
        <li>2222</li>
        <li>3333</li>
        <li>4444</li>
    </ul>
</body>
</html>